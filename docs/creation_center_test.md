# 创作中心功能测试文档

本文档用于测试博客管理后台（创作中心）的各项功能。

## 1. 访问权限测试

**前置条件**：确保您的账号邮箱已在 `.env.local` 的 `NEXT_PUBLIC_ADMIN_EMAIL` 中配置。

- [ ] **未登录访问**：
  - 退出登录。
  - 访问 `/admin`。
  - **预期结果**：自动跳转至 `/login` 登录页面。

- [ ] **非管理员访问**：
  - 使用非管理员邮箱登录（如果允许普通用户注册）。
  - 访问 `/admin`。
  - **预期结果**：弹出“没有权限”提示，并跳转回首页。

- [ ] **管理员访问**：
  - 使用管理员账号登录。
  - 点击顶部的“创作”链接或直接访问 `/admin`。
  - **预期结果**：成功进入创作中心页面。

## 2. 界面显示测试

- [ ] **电脑端 (Desktop)**：
  - 浏览器宽度大于 768px。
  - **预期结果**：
    - 显示左侧“元数据面板”（标题、Slug、分类、简述）。
    - 显示右侧“Markdown 编辑器”。
    - 编辑器左侧为输入区，右侧为实时预览区。
    - 界面风格应美观，输入框有圆角和阴影，Dark Mode 下颜色正常。

- [ ] **手机端 (Mobile)**：
  - 使用手机访问或将浏览器宽度缩小至 768px 以下。
  - **预期结果**：
    - 界面自动切换为“MIGI 笔记模式”。
    - 仅显示一个全屏的文本输入框。
    - 顶部显示当前日期时间。
    - 底部工具栏显示分类选择、图片按钮（占位）、标签按钮（占位）。
    - 不显示标题和 Slug 输入框（它们应自动生成）。

## 3. 核心功能测试

### 3.1 分类管理
- [ ] **选择现有分类**：
  - 点击“分类”下拉框。
  - **预期结果**：列出数据库中已有的分类。选择后，“新分类”输入框应清空。

- [ ] **新建分类**：
  - 在“新分类”输入框中输入一个从未有过的分类名（如 `TestCategory`）。
  - 发布文章。
  - **预期结果**：文章发布成功，且下次进入页面时，下拉框中应包含 `TestCategory`。

### 3.2 内容编辑
- [ ] **Markdown 渲染**：
  - 输入 `**加粗**`、`# 标题`、`[链接](https://example.com)`。
  - **预期结果**：右侧预览区实时显示渲染后的效果。

- [ ] **LaTeX 公式**：
  - 输入 `$E = mc^2$` 或 `$$ \sum_{i=1}^n i $$`。
  - **预期结果**：预览区正确渲染数学公式。

- [ ] **代码高亮**：
  - 输入：
    ```js
    console.log('hello');
    ```
  - **预期结果**：预览区代码块显示高亮颜色。

### 3.3 文章发布
- [ ] **发布流程**：
  - 填好标题、内容。
  - 点击右上角“发布文章”按钮。
  - **预期结果**：
    - 按钮状态变为“发布中...”。
    - 弹出“发布成功”提示。
    - 表单清空（准备下一篇）。

- [ ] **验证发布**：
  - 回到博客首页。
  - **预期结果**：新发布的文章应出现在列表中（按时间排序）。

## 4. 移动端专属测试
- [ ] **快速记录**：
  - 在手机模式下，直接输入一段文字。
  - 点击右上角“发布”。
  - **预期结果**：
    - 发布成功。
    - 自动生成的标题应为类似 `2024-05-20 10:00 随笔` 的格式。
    - Slug 应为 `note-[时间戳]`。
    - 分类若未选，应默认为 `未分类`。

## 5. 主题适配
- [ ] **深色模式切换**：
  - 点击页面顶部的太阳/月亮图标切换主题。
  - **预期结果**：
    - 创作中心的所有卡片、输入框、文字颜色应自动适配。
    - **重点检查**：Markdown 编辑器的背景色和文字颜色是否随主题切换（亮色底黑字 / 深色底白字）。
